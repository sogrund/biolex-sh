# index.html
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Biografiesuche</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900">
  <div class="max-w-4xl mx-auto p-6">
    <h1 class="text-3xl font-bold mb-6 text-center">Biografiesuche</h1>

    <div class="flex justify-between mb-4">
      <input id="searchInput" type="text" placeholder="Suchen..." 
             class="w-full mr-4 p-2 border rounded-lg shadow" />

      <select id="viewMode" class="p-2 border rounded-lg shadow">
        <option value="cards">Karten</option>
        <option value="table">Tabelle</option>
      </select>
    </div>

    <div id="results" class="mt-6"></div>
  </div>

  <script src="script.js"></script>
</body>
</html>


# script.js
async function loadCSV() {
  const response = await fetch('data.csv');
  const text = await response.text();
  const lines = text.split('\n').map(l => l.split(','));
  const headers = lines.shift();

  return lines.map(row => {
    let obj = {};
    headers.forEach((h, i) => obj[h.trim()] = row[i] ? row[i].trim() : "");
    return obj;
  });
}

function renderCards(data) {
  const container = document.getElementById('results');
  container.innerHTML = '';

  container.className = 'grid grid-cols-1 md:grid-cols-2 gap-4';

  data.forEach(person => {
    const div = document.createElement('div');
    div.className = 'bg-white p-4 rounded-xl shadow';
    div.innerHTML = `
      <h2 class="text-xl font-semibold mb-2">${person.Name}</h2>
      <p><strong>Beruf:</strong> ${person.Profession}</p>
      <p><strong>Geboren:</strong> ${person.Geburtstag} in ${person.Geburtsort}</p>
      <p><strong>Gestorben:</strong> ${person.Todestag} in ${person.Sterbeort}</p>
    `;
    container.appendChild(div);
  });
}

function renderTable(data) {
  const container = document.getElementById('results');
  container.innerHTML = '';

  container.className = '';

  const table = document.createElement('table');
  table.className = 'w-full bg-white rounded-xl shadow';

  const thead = document.createElement('thead');
  thead.innerHTML = `
    <tr class="bg-gray-200 text-left">
      <th class="p-2">Name</th>
      <th class="p-2">Beruf</th>
      <th class="p-2">Geburtsdatum</th>
      <th class="p-2">Geburtsort</th>
      <th class="p-2">Todestag</th>
      <th class="p-2">Sterbeort</th>
    </tr>`;

  const tbody = document.createElement('tbody');
  data.forEach(person => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td class="p-2 border-t">${person.Name}</td>
      <td class="p-2 border-t">${person.Profession}</td>
      <td class="p-2 border-t">${person.Geburtstag}</td>
      <td class="p-2 border-t">${person.Geburtsort}</td>
      <td class="p-2 border-t">${person.Todestag}</td>
      <td class="p-2 border-t">${person.Sterbeort}</td>`;
    tbody.appendChild(row);
  });

  table.appendChild(thead);
  table.appendChild(tbody);
  container.appendChild(table);
}

let allData = [];

async function init() {
  allData = await loadCSV();

  const searchInput = document.getElementById('searchInput');
  const viewSelect = document.getElementById('viewMode');

  function updateView() {
    const query = searchInput.value.toLowerCase();

    const filtered = allData.filter(p =>
      Object.values(p).some(v => v.toLowerCase().includes(query))
    );

    if (viewSelect.value === 'cards') renderCards(filtered);
    else renderTable(filtered);
  }

  searchInput.addEventListener('input', updateView);
  viewSelect.addEventListener('change', updateView);

  updateView();
}

init();


# data.csv
id,Name,Profession,Land,Geburtstag,Geburtsort,Todestag,Sterbeort,Autor,Literatur,Biographie
